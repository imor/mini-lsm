<!--
  mini-lsm-book Â© 2022-2025 by Alex Chi Z is licensed under CC BY-NC-SA 4.0
-->

# Mini-LSM v1

This is a legacy version of the Mini-LSM course and we will not maintain it anymore. We now have a new version of this course. We keep the legacy version in this book so that the search engine can keep the pages in the index and users can follow the links to the new version of the course.

## Version 1 Course Overview

![Course Overview](legacy-lsm-tutorial/00-lsm-course-overview.svg)

In this course, we build the LSM tree structure in 7 days:

- Day 1: Block encoding. SSTs are composed of multiple data blocks. We implement the block encoding.
- Day 2: SST encoding.
- Day 3: MemTable and Merge Iterators.
- Day 4: Block cache and Engine. To reduce disk I/O and maximize performance, we use moka-rs to build a block cache
  for the LSM tree. On this day we get a functional (but not persistent) key-value engine with `get`, `put`, `scan`,
  and `delete` APIs.
- Day 5: Compaction. Now it's time to maintain a leveled structure for SSTs.
- Day 6: Recovery. We implement WAL and manifest so that the engine can recover after restart.
- Day 7: Bloom filter and key compression. These are widely-used optimizations in LSM tree structures.

## Development Guide

We provide starter code (see `mini-lsm-starter` crate), where we simply replace all function bodies with
`unimplemented!()`. You can start your project based on this starter code. We provide test cases, but they are very
simple. We recommend thinking carefully about your implementation and writing your own test cases.

- You can use `cargo x scheck` to run all test cases and do style check in your codebase.
- You can use `cargo x copy-test dayX` to copy test cases to the starter code.

{{#include copyright.md}}
